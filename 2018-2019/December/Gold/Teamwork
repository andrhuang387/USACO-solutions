#include <bits/stdc++.h>
using namespace std;
#define lli long long int
#define f first
#define s second
#define pb push_back
#define MAXN 10001
lli n, k;
int main() {
    freopen("teamwork.in","r",stdin);
    freopen("teamwork.out","w",stdout);
    cin>>n>>k;
    int a[MAXN];
    for(int i = 0;i<n;i++){
        cin>>a[i];
    }
    vector<int> dp(n+1, -10000);
    dp[0] = 0;
    for(int i =1;i<=n;i++){
        int biggest  = a[i-1];
        for(int sz = 1; sz<=k; sz++){
            if(i-sz  >=0){
                dp[i] = max(dp[i], dp[i-sz]  + biggest*sz);
                biggest = max(biggest, a[i-sz-1]);
            }
        }
    }
    cout<<dp[n]<<endl;
}
